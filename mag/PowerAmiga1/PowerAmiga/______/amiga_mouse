Vitaliy Chepeleff © 2000 г.
akiko_chip@mail.ru 2:5025/73.26@fidonet

                Как самому сделать амижную мышку.

    Наша  суровая  действительность  предполагает,  что  найти  мышку  для Амиги
живущим  не  в  Москве  или  Питере  не  так уж и просто.  А точнее, практически
невозможно.   Да  и  в тех же Москве или Питере она стоит дороже средней PC-шной
мышки.   Что  делать,  если вдруг у амижного пользователя в каком-нибудь Верхнем
Запиндюрске  ломается  родная  мышка?   Бросать  все и мчаться за 2000 верст?  А
может,  вам  захочется использовать на мыши три кнопки, а ваша мышь имеет только
две?   А  может, у вас просто девать некуда поломаные писишные мыши?  Все не так
страшно,  как  кажется  на  первый  взгляд.  Для того, кто умеет держать в руках
паяльник,  проблема  решается  очень  просто.   Точнее,  просто  перестает  быть
проблемой.   Даже  если  вы  не уверены, что у вас получится, то наверняка у вас
есть  товарищ,  для  которого  это  пара  пустяков  и  за  некоторое  количество
пива/пепси/прочего  вы  будете обладать амижной мышкой.  Конечно, есть множество
рецептов  использования  мышей от PC через com-порт, использования PS/2 мышек...
Все это, конечно, тоже выход и это описано, есть соответствующие драйвера и пр.,
но  мы не будем сейчас говорить о качестве и удобстве такой замены - в мои планы
это  не входит, да и каждый в состоянии определиться сам, чего он хочет.  Просто
мы  берем  случай,  когда человеку хочется иметь именно родную амижную мышку, но
купить ее нет возможности.
    Итак,  вам  потребуется  любая мышка от PC, но есть несколько условий выбора
оной.   Желательно,  чтобы  она  имела  разборный  разъем.   Дело  в  том, что в
последовательной  мышке  используется  только  четыре провода, а вам потребуется
восемь  или девять, в зависимости от количества кнопок и разъем однозначно нужно
будет  переделывать.  Естественно, неразборный разъем просто придется выкинуть и
найти разъем отдельно.  Как, впрочем, и кабель.  Если у вас имеется кабель с 8-9
проводами  внутри,  то это замечательно, но как правило, не бывает и его.  Но не
расстраивайтесь...   :)  Очень  удобно  использовать для этого обычный ленточный
кабель.   Итак,  у вас есть мышка, 9-pin разборный разъем, кабель желаемой длины
(но  не стоит делать его слишком длинным, иначе издалека не будет видно мышку на
мониторе :) ) и кучка деталей, на которых я остановлюсь позже.
    Первым  делом  мы  открываем  мышку и аккуратно выкидываем из нее все, кроме
оптико-механической       части,       микропереключателей       и      пожалуй,
конденсатора-электролита - он там все равно нужен и стоит он все равно как надо.
В  зависимости  от  конструкции  мыши  оптико-механическая часть может выглядеть
по-разному.  На схеме нарисовано, как это есть на самом деле, но не удивляйтесь,
если  вдруг  у вас обнаружится не по четыре свето(фото-)диода, а по два.  Просто
они  выполнены  по два в одном корпусе.  На схеме я и обозначил их одной буквой:
фотодиоды  -  Q1 и Q2, а светодиоды - D1 и D2.  Перевернув плату мышки дорожками
вверх,  начинаем  прикидывать,  какие  дорожки  можно  оставить, какие порезать;
хватит ли дырок для резисторов, или придется их паять прямо на микросхему... Для
разных  мышей это может быть по разному, но, скорее всего, большая часть дорожек
окажется  отрезанными  и  замененными  на провод МГТФ :) Иначе говоря, собираете
нижеприведенную   схему   'как   получится'.    Переключатель  sw4  на  схеме  -
Amiga<>Atari  на  фирменной  мышке.   Если  на  переделываемой  вами  мыши  есть
преключатель, то можете его оставить.  Но это совсем не обязательно и нарисовано
только   чтобы  показать,  что  его  можно  использовать.   В  противном  случае
соединения  делаются  согласно схеме.  :) sw1-sw3 это кнопки.  Их может быть как
три,  так  и  две  :)  Разъем  X1 - разъем на мыши и порт на компьютере.  Обычно
контакты  пронумерованы, постарайтесь их не перепутать.  На всякий случай:  если
взять  'хвост'  мыши, повернуть разъем дырочками к себе и посмотреть на него, то
нумерация контактов будет выглядеть следующим образом:

    _________
   |5 4 3 2 1|
    \9 8 7 6/
     ~~~~~~~

    Возможно, вам придется подобрать резисторы R4-R7.  Указанный с схеме номинал
стоит  в  фирменной мышке, но в зависимости от степени отстойности PC-шной мыши,
используемой  вами  микросхеме  или дохлости фотодиодов разброс параметров может
быть  довольно  большим.   С  другой  стороны,  у  амижной  мыши и здесь имеется
преимущество  :)  -  при  плохой работе оптопар и, как следствие, разных токах в
каналах  есть  возможность  отрегулировать  каждый выходной сигнал.  Например, у
автора получились 2 резистора по 330k, 510k и 1M3.  То есть, если схема сразу не
заработает,  не  паникуйте.   Подцепите вместо любого переменный, сопротивлением
эдак  на  мегом и подстройтесь до устойчивого переключения сигнала на выходе при
вращении колесика мышки.  Полученное сопротивление измерьте и ставьте постоянный
резистор  такого  номинала.   Я бы даже посоветовал не спешить ставить сразу все
эти  резисторы  указанного  в  схеме  номинала.  При исправных элементах схемы и
правильной сборке другой причины неработоспособности просто не может быть :)

           ­ЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЇ
           ў      ­ЎЎЎЎЎЎЇ                                      ў X1
 ­ЎЎЎЎЇ    ў +U >-Ґ14   1ЄX             ­ЎЎЎЎЇ                  ў ­ЎЇ
ЄҐ R6*ЄѕЎЎЎўЎЎЎЎЎЎҐ13   2ЄX          ­ЎЎҐ R4*ЄҐ         ­ЎЎЎЎЎЎЎўЎҐ1ўx2
 їЎЎЎЎґў   їЎЎЎЎЎЎҐ12   3ЄЎЎЎЎЎЎЎЎЎЎѕґ  їЎЎЎЎґ          ў       їЎҐ2ўxa
 ­ЎЎЎЎЇў   ­ЎЎЎѕЎЎҐ11   4ЄЎЎЎЎЎЎЎЎЎЎўЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎЎўЎЎЎЎЎЎЎЎЎҐ3ўya
ЄҐ R7*ЄўЎЎЎґ   ў­ЎҐ10   5ЄЎЎЇ       ў ­ЎЎ\__­ЎЎЎЎЎЎЎЎЎЎЎўЎЎЎЎЎЎЎЎЎҐ4ўy2
 їЎЎЎЎґў       ўўXҐ9 D1 6ЄЎЎўЎЎЎЎЎЎЎўѕўЎЎ sw4           ў­ЎЎЎЎЎЎЎЎҐ5ўmb
       ў       ўўXҐ8 ~~ 7ЄЎЇў       ўїўЎЎ\__­ЎЎЎЎЎЎЎЎЎЎЎґў ­ЎЎЎЎЎЎҐ6ўlb
       ў       ўў їЎЎЎЎЎЎґ ¶ў     ­ЎўЎ¶ЎЎ                ў ў   >ЎЎҐ7ў+U
       ў       ўїЎЎЎЎЎЎЎЎЎЎЎўЎЎЎЎЎґ ў   ­ЎЎЎЎЇ           ў ў   >ЎЎҐ8ўGN
       ў       ў            ЄЎЎЎЎЎЎЎўЎЎЎҐ R5*ЄҐ          ў ў ­ЎЎЎЎҐ9ўrb
       ў       ў            ў       ў   їЎЎЎЎґ           ў ў ў    їЎґ
       ў       ў            ў       ў                    ў ў ў
       ўQ1// //ў            ўQ2// //ў                    ў ў ў      +U
       ў '' '' ў            ў '' '' ў                    ў ў ў       v
       їµ<ЄѕҐ>µґ            їµ<ЄѕҐ>µґ                sw1 ў ў ў­ЎЎЎЎЇ ў
           ў                    ў                    \__­ўЎўЎ¶Ґ R1 ЄЎҐ
           ў                    ў                ­ЎЎЎ    ў ў  їЎЎЎЎґ ў
           ^+U                  ^+U              ў   sw2 ў ў  ­ЎЎЎЎЇ ў
                                                 ў   \__­ўЎ¶ЎЎҐ R2 ЄЎҐ
             ,,  ,,       ,,  ,,                 ЄЎЎЎ    ў    їЎЎЎЎґ ў
            //  //­ЎЎЎЎЇ //  //       +          ў   sw3 ў    ­ЎЎЎЎЇ ў
         ЄЎµ<ЄЎµ<ЄҐ R8 Єµ<ЄЎµ<ЄЎ< +U >ЎҐЄЎҐ      ў   \__­¶ЎЎЎЎҐ R3 ЄЎґ
              D1  їЎЎЎЎґ   D2          C1        ЄЎЎЎ         їЎЎЎЎґ
                                                 ¶
    D1 - 74HC14N (К1564ТЛ2)
    R8 - 510
 R1-R3 - 33k
 R4-R7 - 10k*

    Есть  еще  кое-что,  что  возможно,  потребуется  вам знать.  Опять же, наша
суровая  действительность  предполагает, что вы не сможете найти у себя в городе
указанных  микросхем.  По крайней мере, в Воронеже это оказалось проблематичным.
Можно  использовать  более  распространенную - К561(564,1561)ТЛ1.  В этом случае
цоколевка будет другой и подключать микросхему нужно несколько иначе:

        ­ЎЎЎЎЎЎЇ
       ЎҐ14   1ЄѕЎ>Q2,R4
Q1,R6<ЎѕҐ13   2Єґ
       їҐ12   3ЄЎЎ>ya
   xa<ЎЎҐ11   4ЄЎЎ>sw4
  sw4<ЎЎҐ10   5ЄЇ
       ­Ґ9 D1 6Є¶Ў>Q2,R5
Q1,R7<Ў¶Ґ8 ~~ 7ЄЎ
        їЎЎЎЎЎЎґ

    Вот вроде бы и все. Успехов!

