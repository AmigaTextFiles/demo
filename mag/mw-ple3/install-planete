; Planet E Installer - Issue 3
(user 0)
(set old_level @user-level)
(complete 0)
(user 2)
(set dest2 (askdir (prompt "Select Directory you wish Planet-E Issue 3 to be installed")
		  (default "sys:")
                  (help "A directory 'PlanetE' will be created"
                        "in the partition or directory chosen."
			"The PlanetE files will be placed here."
		  )
          )
)
(set destfonts "FONTS:")
(set destlibs "LIBS:")
(set destxpk "LIBS:compressors/")
(user old_level)
(set dest1 (tackon dest2 "PlanetE"))
(set destdata (tackon dest1 "data"))
(set destart (tackon dest1 "art"))
(set destbin (tackon dest1 "bin"))
(makedir dest1 (infos))
(message "Installing Font to FONTS:" )
(copyfiles (source "fonts") (dest destfonts) (all))
(if (exists "LIBS:xpkmaster.library")
	(   (set noppinstall "Not Installing")
	)
	(
		(message "Installing xpkmaster.library to LIBS:" )
		(copyfiles (source "libs/xpkmaster.library") (dest destlibs) )
	)
)
(if (exists "LIBS:compressors")
	(   (set nocmpinstall "Not Installing")
	)
	(
		(message "Creating Libs:compressors directory" )
		(makedir "libs:compressors" )
	)
)
(if (exists "LIBS:compressors/xpkBLZW.library")
	(   (set noblzwinstall "Not Installing")
	)
	(
		(message "Installing BLZW xpk compressor library to LIBS:compressors" )
		(copyfiles (source "libs/compressors/xpkBLZW.library") (dest destxpk) )
	)
)
(if (exists "LIBS:compressors/xpkSQSH.library")
	(   (set nosqshinstall "Not Installing")
	)
	(
		(message "Installing SQSH xpk compressor library to LIBS:compressors" )
		(copyfiles (source "libs/compressors/xpkSQSH.library") (dest destxpk) )
	)
)

(complete 1)
(set @default-dest destdata)
(message "Installing Internal Data files to " destdata)
(copyfiles (source "data") (dest destdata) (all))
(copyfiles (source "PlanetE_Issue_3") (dest dest1) (infos))
(copyfiles (source "Xicon") (dest dest1))
(complete 10)
(set @default-dest destart)
(message "Installing Articles to " destart)
(copyfiles (source "art") (dest destart) (all))
(complete 30)
(set @default-dest destbin)
(message "Installing Music to " destbin)
(copyfiles (source "bin") (dest destbin) (all))
(complete 90)
(set @default-dest dest1)
(message "Installing Main Executable PlanetE to " dest1)
(copyfiles (source "planete") (dest dest1) (infos))
(complete 100)
