<World3D> world_invisible8 </World3D>
<World3D> world8 </World3D>

<KIMG> topnoise8 | data/part8/topnoise8.iff </KIMG>

<KIMG> back8 | data/part8/back8.iff </KIMG>

<KIMG> warp2  | data/part8/twirl2.iff </KIMG>

<KTABLE> paltab6 | 0,0 | 30,1 | 400,1 | 450,0 </KTABLE>

<KIMG> ctable8 | data/part8/ctable8.iff </KIMG>
<computecolortable> table8 | ctable8 |0|0|0|0 </computecolortable>

<KIMG> texture8 | data/part8/lightmapblue.iff </kimg>
<t3dFlatLightMap> tmapenv8 | texture8 | table8 </t3dFlatLightMap>
<t3dFlat> t_BlackBorder | 0 </t3dFlat>
<shapepatch> outlinePatch | tmapenv8  | t_BlackBorder |0.5 </shapepatch>

<lwo3d> figure_invisible | world_invisible8 | 0|0|5|0|0|0|1|1|1| data/part8/figure.lwo | 1 | tmapenv8</lwo3d>
<clone3d> figure | world8|0|0|0|0|0|0|1|1|1| figure_invisible </clone3d>

<KTABLE> move8 | 0,200 | 50,0 | 400,0 | 450,-200 </KTABLE>

<KCAM> camera8 |0|0|-80|0|0|0|0.3  </KCAM>

<KPART>
    <ID> Part8 </ID>

  <Fx>
      <Pa>BindPalette</Pa>
      <Pa> aft | paltab6 | 0 | 0 </Pa>
      <Pa>CTE|0</Pa>              type of fade:0,1,2,3
      <Pa>CTE|255</Pa>            optional color 0->255 (0)
      <Pa>texture8</Pa>     palette where to fade ( "B" )
      <Pa>texture8</Pa>            optional source Palette(2)
      <Pa>CTE|0</Pa>              type of fade:0,1,2,3
      <Pa>CTE|255</Pa>            optional color 0->255 (0)
      <Pa>texture8</Pa>       Palette where to fade ( "B" )
      <Pa>texture8</Pa>       optional source Palette(2)
      <Pa>CTE|0</Pa>              type of fade:0,1,2,3
      <Pa>CTE|255</Pa>            optional color 0->255 (0)
      <Pa>texture8</Pa>       Palette where to fade ( "B" )
      <Pa>texture8</Pa>       optional source Palette(2)
  </Fx>

   <Fx><Pa> spriteplain </Pa>
      <Pa> mainscreen </pa>
      <Pa> back8 </Pa>
      <Pa> aff | 0 | -0.001 </Pa>
      <Pa> cte | 0.2 </Pa>
      <Pa> aff | 2 | -0.001 </Pa>
      <Pa> cte | 0.8 </Pa>
   </Fx>

    <Fx><Pa> Clone3DShape </Pa><Pa> figure </Pa><Pa> figure_invisible </Pa></Fx>

    displace vertexes:
    <Fx><Pa> VertexSin </Pa>
        <Pa> figure </Pa>
        <Pa> sin|0|0.4|0.5 </Pa> offset X
        <Pa> sin|0|0.8|0.5 </Pa>        Y
        <Pa> sin|0|0.35|0.5</Pa>        Z

        <Pa> cte|0.05</Pa> frequence X
        <Pa> cte|0.05</Pa>           Y
        <Pa> cte|0.05</Pa>           Z

        <Pa> cte|4.0</Pa> amplitude X
        <Pa> cte|4.0</Pa>           Y
        <Pa> cte|4.0</Pa>           Z
    </Fx>
 note if all amplitude are 0, there is no displacement.

    <Fx><Pa> Set3DObject </Pa>
        <Pa>  figure </Pa>

        <Pa> cte | 0 </Pa>
        <Pa> aft | move8 | 0 | 0 </Pa>
        <Pa> cte | 0 </Pa>

        <Pa> aff |-0.01|0.005</Pa>
        <Pa> aff |0.1|0.006</Pa>
        <Pa> aff |0.0|0.007</Pa>

        <Pa> 3cte|1|1|1 </Pa>  scale
    </Fx>

    <Fx>
        <Pa> Twirl </Pa>                some normal twirl on the background.
        <Pa>rect3</Pa>
        <Pa> warp2 </Pa>

        <Pa>SIN|0.5|1|0.15</Pa> ofsx
        <Pa>COS|0.5|1|0.45</Pa> ofsY

        <Pa>SIN|0|0.1|1</Pa> start angle
        <Pa>CTE|0</Pa>    amp. angle
        <Pa>CTE|0</Pa>    freq angle

        <Pa>CTE|0</Pa>         start dist.
        <Pa>SIN|-1|0.6|0.05</Pa> amp.dist
        <Pa>COS|0|0.2|10</Pa> freq dist

        <Pa>CTE|0</Pa> mapping type
    </Fx>




    <Fx><Pa> Draw3DWorld </Pa>
        <Pa> mainscreen </Pa>
        <Pa> world8 </Pa>
        <Pa> camera8 </Pa>
        <Pa> cte|0 </Pa>
        <Pa> cte|1 </Pa>
        <Pa> cte|200</Pa>
    </Fx>

   <Fx><Pa> SpriteTable </Pa>
        <Pa>mainscreen</Pa>
        <Pa> topnoise8 </Pa>
        <Pa> cte | 0 </Pa>
        <Pa> cte | 0.2 </Pa>
        <Pa> cte | 1 </Pa>
        <Pa> cte | 0.8 </Pa>
        <Pa> table8 </Pa>  50% transpa
    </Fx>



</KPART>
